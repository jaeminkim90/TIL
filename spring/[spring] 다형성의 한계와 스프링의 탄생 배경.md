> π“ μ΄ κΈ€μ€ λ‹¤ν•μ„±λ§μΌλ΅ μ¬λ°”λ¥Έ κ°μ²΄ μ§€ν–¥ μ„¤κ³„κ°€ μ–΄λ ¤μ΄ μ΄μ μ™€ μ¤ν”„λ§μ΄ μ–΄λ–¤ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ νƒ„μƒν•μ€λ”μ§€ ν•™μµν•κ³  μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤.<br><br>
> λ³Έλ¬Έμ ν•µμ‹¬ μ•„μ΄λ””μ–΄λ” κΉ€μν•λ‹μ 'μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ - κΈ°λ³Έ νΈ' κ°•μλ¥Ό μκ°•ν•λ©° ν•™μµν•μ€μµλ‹λ‹¤.
<br><br>
λ‹¤ν•μ„±κ³Ό μΈν„°νμ΄μ¤μ λ¶„λ¦¬λ§μΌλ΅λ” μ§„μ •ν• κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™μ„ μ¶©μ΅±ν•  μ μ—†λ‹¤λ” κ²ƒμ„ μ•κ²λμ—μΌλ©°, κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ μ”κ±΄μ„ μ¶©μ΅±ν•λ” μ„¤κ³„λ¥Ό μ„ν•΄μ„λ” λ¬΄μ—‡μ„ κ°μ„ ν•΄μ•Ό ν•λ”μ§€ μ΄ν•΄ν•λ” κ³„κΈ°κ°€ λμ—μµλ‹λ‹¤. 

<br>

# λ‹¤ν•μ„±μ ν•κ³„μ™€ μ¤ν”„λ§μ νƒ„μƒ λ°°κ²½

ν”ν κ°μ²΄ μ§€ν–¥μ ν•µμ‹¬μ€ λ‹¤ν•μ„±μ— μλ‹¤κ³  λ§ν•©λ‹λ‹¤. κ·Έλ¬λ‚ λ‹¤ν•μ„±λ§μΌλ΅λ” λ°”λμ§ν• κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό κµ¬ν„ν•  μ μ—†μµλ‹λ‹¤. **μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό μ„ν•΄ λ‹¤ν•μ„±μ„ μ‚¬μ©ν•  λ•, λ°κ²¬ν•κ² λλ” κµ¬μ΅°μ  ν•κ³„μ κ³Ό ν•΄κ²°μ±…μ„ μ •λ¦¬**ν•μ€μµλ‹λ‹¤.   

λ‹¤ν•μ„±μ ν•κ³„μ™€ λ€μ•μ€ μ¤ν”„λ§ ν”„λ μ„μ›ν¬λ¥Ό νƒ„μƒμ‹ν‚¨ λ°°κ²½μ΄κΈ°λ„ ν•©λ‹λ‹¤. μ¤ν”„λ§μ ν•µμ‹¬ κ°λ…μΈ `μ μ–΄μ μ—­μ „(IoC)`μ™€ `μμ΅΄ κ΄€κ³„ μ£Όμ…(DI)`λ” λ‹¤ν•μ„±μ ν•κ³„λ¥Ό κ·Ήλ³µν•κ³ , κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό λ”°λ¥Ό μ μλ„λ΅ λ„μ™€μ£Όλ” λ„κµ¬μ…λ‹λ‹¤.   
<br>

---

<br>

## 1. λ‹¤ν•μ„±κ³Ό μΈν„°νμ΄μ¤ λ¶„λ¦¬μ ν•κ³„

μ£Όλ¬Έ λ„λ©”μΈμ„ μ„¤κ³„ν•κ³  κµ¬ν„ν•λ‹¤κ³  κ°€μ •ν•΄ λ³΄κ² μµλ‹λ‹¤. μ£Όλ¬Έ λ„λ©”μΈμ—λ” 	`ν• μΈ μ •μ±…`μ΄ λ°μλμ–΄μ•Ό ν•©λ‹λ‹¤. κΈ°νμλ” μ„λΉ„μ¤ λ°°ν¬ μ΄ν›„μ—λ„ λ‹¤μ–‘ν• `ν• μΈ μ •μ±…`μ΄ λ„μ…λ  μ μλ‹¤κ³  ν•©λ‹λ‹¤.<br>

`ν• μΈ μ •μ±…`μ΄λΌλ” μΈν„°νμ΄μ¤λ¥Ό μ„¤κ³„ν•κ³ , μƒλ΅μ΄ ν• μΈ μ •μ±…μ΄ λ„μ…λκ±°λ‚ λ³€κ²½λ  λ•, ν• μΈ μ •μ±… μΈν„°νμ΄μ¤μ `κµ¬ν„μ²΄`λ¥Ό λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤. **ν• μΈ μ •μ±…μ΄λΌλ” μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ μ—­ν• μ„ μ •μν•κ³ , ν•΄λ‹Ή μΈν„°νμ΄μ¤μ κµ¬ν„μ²΄λ¥Ό ν†µν•΄ κµ¬ν„μ„ λ¶„λ¦¬ν•λ” λ°©μ‹μ μ„¤κ³„**μ…λ‹λ‹¤.<br>

μ£Όλ¬Έ λ„λ©”μΈ ν΄λμ¤μ κµ¬μ΅°λ” μ•„λμ™€ κ°™μµλ‹λ‹¤. μ•μ„ λ§μ”€λ“λ¦° `ν• μΈ μ •μ±…` μΈν„°νμ΄μ¤μ κµ¬ν„μ²΄λ΅ `μ •μ•΅ ν• μΈ μ •μ±…(FixDiscountPolicy)`κ³Ό `μ •λ¥  ν• μΈ μ •μ±…(Rate)DiscountPolicy`μ„ κ°€μ •ν–μµλ‹λ‹¤.<br>

μ•„λ μ „μ²΄ κµ¬μ΅°λ„μ—λ” λ§μ”€λ“λ¦° λ‚΄μ© μ™Έμ— `νμ› μ €μ¥(MemberRepository)`μ— λ€ν• λ‚΄μ©λ„ μμΌλ‚, μ°Έκ³ λ§ ν•΄μ£Όμ…”λ„ λ¬΄λ°©ν•  κ±° κ°™μµλ‹λ‹¤.

<br>

![](https://images.velog.io/images/woply/post/718da537-6abe-4696-b866-733808b9d3bf/image.png)
> μ΄λ―Έμ§€ μ¶μ²: κΉ€μν•λ‹ 'μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ - κΈ°λ³Έ νΈ' κ°•μ μλ£

<br>

ν„μ¬μ `ν• μΈ μ •μ±…(DiscountPolicy)`μ€ `κ³ μ • ν• μΈ μ •μ±…(FixDiscountPolicy)`μ„ μ±„νƒν•κ³  μμµλ‹λ‹¤. `κ³ μ • ν• μΈ μ •μ±…(FixDiscountPolicy)`μ€ μ•„λμ™€ κ°™μ΄ μ£Όλ¬Έ μ„λΉ„μ¤μ κµ¬ν„μ²΄μΈ  `OrderServiceImpl`μ—μ„ κ°μ²΄κ°€ μƒμ„±λ©λ‹λ‹¤.

<br>

```java
public class OrderServiceImpl implements OrderService {

      private final MemberRepository memberRepository = new MemoryMemberRepository();

      private final DiscountPolicy discountPolicy = new FixDiscountPolicy(); // κ³ μ • ν• μΈ μ •μ±… κµ¬ν„μ²΄λ¥Ό μƒμ„±

      @Override
      public Order createOrder(Long memberId, String itemName, int itemPrice) {

          Member member = memberRepository.findById(memberId);
          int discountPrice = discountPolicy.discount(member, itemPrice);

          return new Order(memberId, itemName, itemPrice, discountPrice);
      }
}
```

<br>

μ΄ λ•, ν• μΈ μ •μ±…μ΄ λ³€κ²½λμ–΄ `κ³ μ • ν• μΈ μ •μ±…(FixDiscountPolicy)`μ΄ μ•„λ‹ `μ •λ¥  ν• μΈ μ •μ±…(RateDiscountPolicy)`μ΄ μ±„νƒλλ‹¤λ©΄ `OrderServiceImpl`μ μ½”λ“λ¥Ό μ•„λμ™€ κ°™μ΄ λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤.

<br>

```java
public class OrderServiceImpl implements OrderService { 
    // private final DiscountPolicy discountPolicy = new FixDiscountPolicy(); 
    private final DiscountPolicy discountPolicy = new RateDiscountPolicy(); // ν• μΈ μ •μ±… λ³€κ²½μ— λ”°λ¥Έ μ½”λ“ μμ •
  }
```

<br>

κ·Έλ¦¬κ³  **λ°”λ΅ μ΄ μ§€μ μ—μ„ λ‹¤ν•μ„±κ³Ό μΈν„°νμ΄μ¤ λ¶„λ¦¬λ§μΌλ΅ μ™„μ „ν• κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ— λ„λ‹¬ν•  μ μ—†λ‹¤λ” μ‚¬μ‹¤μ΄ λ“λ¬λ‚©λ‹λ‹¤.**

λ‹¤ν•μ„±κ³Ό μΈν„°νμ΄μ¤ λ¶„λ¦¬λ” **'μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬'** ν•λ‹¤λ” μ μ—μ„ κ°μ²΄μ§€ν–¥ μ„¤κ³„μ **`ISP`(Interface segregation principle μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™)**μ™€ **`LSP`(Liskov substitution principle λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™)**λ¥Ό μ¶©μ΅±ν•©λ‹λ‹¤.<br>

ν•μ§€λ§, **`SRP`(single responsibility principle λ‹¨μΌ μ±…μ„ μ›μΉ™), `OCP`(Open/closed principle κ°λ°©-νμ‡„ μ›μΉ™), `DIP`(Dependency inversion principle μμ΅΄ κ΄€κ³„ μ—­μ „ μ›μΉ™)μ€ μ¶©μ΅± ν•  μ μ—†μµλ‹λ‹¤.**

<br>

> μ°Έκ³ : SOLID
ν΄λ¦°μ½”λ“λ΅ μ λ…ν• λ΅λ²„νΈ λ§ν‹΄μ΄ μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™μ„ μ •λ¦¬ν•κ³ , μ•κΈ€μλ¥Ό λ”°μ„ SOLIDλ΅ μ§€μΉ­ν•μ€λ‹¤.<br>
- SRP: λ‹¨μΌ μ±…μ„ μ›μΉ™(single responsibility principle)
- OCP: κ°λ°©-νμ‡„ μ›μΉ™ (Open/closed principle)
- LSP: λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (Liskov substitution principle) 
- ISP: μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (Interface segregation principle) 
- DIP: μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™ (Dependency inversion principle)

<br>

---

<br>

## 2. κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ μ”κ±΄μ„ μ¶©μ΅±ν•μ§€ λ»ν•λ” μ΄μ 

<br>

### 2-1) DIPλ¥Ό μ¶©μ΅±ν•μ§€ λ»ν• μ΄μ 

<br>


`DIP`λ¥Ό λ”°λ¥΄λ” λ°©λ²• μ¤‘ ν•λ‚λ” ν΄λΌμ΄μ–ΈνΈ κ°μ²΄κ°€ μ¤μ§ μΈν„°νμ΄μ¤λ§μ„ μμ΅΄ν•λ” κ²ƒμ…λ‹λ‹¤. κµ¬ν„μ²΄λ¥Ό μ§μ ‘ μμ΅΄ κ΄€κ³„λ΅ μ„¤μ •ν•λ©΄ μ•λ©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈ κ°μ²΄κ°€ μΈν„°νμ΄μ¤μ™€ μΈν„°νμ΄μ¤ κµ¬ν„μ²΄λ¥Ό λ¨λ‘ μμ΅΄ν•κ² λλ©΄ μ΄ν›„ κµ¬ν„μ²΄ λ³€κ²½μ΄ ν•„μ”ν•  λ•, ν΄λΌμ΄μ–ΈνΈμ μ½”λ“ μμ •μ΄ λ¶κ°€ν”Όν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.<br>

ν•μ§€λ§, μ§€κΈ `OrderServiceImpl`λ” `DiscountPolicy` λΏλ§ μ•„λ‹λΌ `FixDiscountPolicy`λ¥Ό λ™μ‹μ— μμ΅΄ν•κ³  μμµλ‹λ‹¤.

<br>

```java
private final DiscountPolicy discountPolicy = new FixDiscountPolicy(); 
```

<br>

### 2-2) OCPλ¥Ό μ¶©μ΅±ν•μ§€ λ»ν• μ΄μ 
`OCP`λ” ν™•μ¥μ—λ” μ—΄λ ¤ μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤λ” μ›μΉ™μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ μΈν„°νμ΄μ¤λ¥Ό μμ΅΄ν•κ³  μμ„ λ•, κµ¬ν„μ²΄κ°€ λ³€κ²½λλ‹¤λ©΄ ν™•μ¥μ— ν•΄λ‹Ήν•©λ‹λ‹¤. κ·Έλ¬λ‚ ν΄λΌμ΄μ–ΈνΈμ μ½”λ“κ°€ μμ •λμ–΄μ„λ” μ• λ©λ‹λ‹¤. λ³€κ²½μ— λ‹«ν€μμ–΄μ•Ό ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.<br>

ν„μ¬ `OrderServiceImpl`λ” ν™•μ¥μ—λ” μ—΄λ ¤μμµλ‹λ‹¤. μ–Έμ λ“ μ§€ `new FixDiscountPolicy()`λ¥Ό `new RateDiscountPolicy()`λ΅ μμ •ν•μ—¬ κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•  μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤. 

ν•μ§€λ§, **λ³€κ²½μ—λ” λ‹«ν€μμ§€ μ•μµλ‹λ‹¤.** κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•κΈ° μ„ν•΄μ„λ” `OrderServiceImpl`μ μ½”λ“λ¥Ό μ§μ ‘ μμ •ν•μ—¬ μ£Όμ… λ°›λ” μμ΅΄κ΄€κ³„μ λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤. `FixDiscountPolicy`λ¥Ό `RateDiscountPolicy`λ΅ λ³€κ²½ν•λ ¤λ©΄, `OrderServiceImpl`μ μ†μ¤ μ½”λ“ λ³€κ²½μ΄ λ¶κ°€ν”Όν•©λ‹λ‹¤.

<br>

### 2-3) SRPλ¥Ό μ¶©μ΅±ν•μ§€ λ»ν• μ΄μ 
λ‹¨μΌ μ±…μ„μ„ μλ―Έν•λ” `SRP`λ” ν΄λμ¤μ— λ‹¨ ν•λ‚μ μ±…μ„μ„ λ¶€μ—¬ν•΄μ•Ό ν•λ‹¤κ³  λ§ν•©λ‹λ‹¤. ν•λ‚μ μ±…μ„μ΄λΌλ” κ²ƒμ€ μ •μν•κΈ°μ— λ”°λΌ λ¨νΈν•¨μ΄ μ΅΄μ¬ν•μ§€λ§, μ¤‘μ”ν• κΈ°μ¤€μ€ λ³€κ²½μ…λ‹λ‹¤. μ±…μ„μ λ²”μ„ λ‚΄μ—μ„ λ³€κ²½μ΄ λ°μƒν–μ„ λ•, μ‚¬μ΄λ“ μ΄ν™νΈκ°€ μ μΌλ©΄ λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ λ”°λ¥Έ κ²ƒμ΄λΌκ³  λ³Ό μ μμµλ‹λ‹¤.<br>

ν•μ§€λ§ `OrderServiceImpl`λ” μ£Όλ¬Έ μ‹¤ν–‰μ΄λΌλ” μ±…μ„κ³Ό ν• μΈ μ •μ±… μ„ νƒμ΄λΌλ” μ±…μ„μ„ λ™μ‹μ— μ§€λ‹κ³  μμµλ‹λ‹¤. 

<br>

---

<br>

## 3. 'κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬'λΌλ” μ•„μ΄λ””μ–΄

<br>

μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό μ„ν• ν•΄κ²°μ±…μ€ **'κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬'**λΌλ” μ•„μ΄λ””μ–΄μ—μ„ μ‹μ‘λ©λ‹λ‹¤. 

λ®¤μ§€μ»¬ κ³µμ—°μ΄λΌλ” μ‹¤μ  μ„Έκ³„μ μ„λΉ„μ¤λ¥Ό ν†µν•΄ μ΄ λ¬Έμ μ ν•΄κ²°μ±…μΈ **'κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬'**κ°€ κµ¬μ²΄μ μΌλ΅ λ¬΄μ—‡μ„ μλ―Έν•λ”μ§€ μ„¤λ…ν•΄λ³΄κ² μµλ‹λ‹¤. λ®¤μ§€μ»¬ ν™λ³΄λ¬Όμ„ λ³΄λ©΄ ν•λ‚μ μ—­ν• μ— λ‹¤μμ λ°°μ°κ°€ μ°Έμ—¬ν•κ³  μλ‹¤λ” κ²ƒμ„ μ• μ μμµλ‹λ‹¤. λ™μΌν• μ—­ν• μ„ μ—°κΈ°ν•λ” μ£Όμ—° λ°°μ°κ°€ 2λ…μ—μ„ λ§κ²λ” 3λ…μΈ κ²½μ°λ„ μμµλ‹λ‹¤. `λ°°μ—­`μ΄λΌλ” **κ°λ…μ  μ—­ν• **μ΄ μ΅΄μ¬ν•κ³ , λ°°μ—­μ„ μ†ν™”ν•λ” `μ‹¤μ  λ°°μ°`κ°€ **μ—­ν• μ μ‹¤μ²΄**λ¥Ό λ‹΄λ‹Ήν•λ” κ²ƒμ…λ‹λ‹¤. 
> μ°Έκ³ ) λ°°μ—­: μΈν„°νμ΄μ¤ / λ°°μ°: μΈν„°νμ΄μ¤ κµ¬ν„μ²΄λ΅ λΉ„μ ν•κ³ μ ν•©λ‹λ‹¤.

<br>

μ΄λ•, `λ°°μ°μ κ΄€μ‹¬μ‚¬`λ” μ„±κ³µμ μΈ κ³µμ—°μ„ μ„ν•΄ **λ°°μ—­μ„ μ μ—°κΈ°ν•λ” κ²ƒ**μ…λ‹λ‹¤. **`μ—­ν• μ μ‹¤μ²΄`λ¥Ό μ κµ¬ν„ν•λ” κ²ƒμ΄ λ°°μ°μ κ΄€μ‹¬μ‚¬**μ…λ‹λ‹¤. κ·Έλ°λ° **λ°°μ°μ—κ² λ‹¤λ¥Έ λ°°μ°μ μ„­μ™Έλ¥Ό λ§΅κΈ΄λ‹¤λ©΄ λ°°μ°λ” μμ‹ μ κ΄€μ‹¬μ‚¬μ— μ§‘μ¤‘ν•μ§€ λ»ν•λ” μƒν™©**μ΄ λ©λ‹λ‹¤.<br>

μ΄λ” **μ£Όλ¬Έ μ„λΉ„μ¤λΌλ” μ—­ν• μ—λ§ κ΄€μ‹¬μ΄ μλ” `OrderServiceImpl`μ—κ² `DiscountPolicy`λΌλ” μ—­ν• μ„ λ‹΄λ‹Ήν•΄μ¤„ κµ¬ν„μ²΄λ¥Ό μ •ν•΄λ‹¬λΌκ³  λ§΅κΈ°λ” κ²ƒκ³Ό κ°™μµλ‹λ‹¤.**

λ°°μ°μ μ„­μ™Έλ” κ³µμ—° κΈ°νμκ°€ λ‹΄λ‹Ήν•κ³  λ°°μ°λ” λ°°μ—­μ—λ§ μ§‘μ¤‘ν•΄μ•Ό ν•λ” κ²ƒμ²λΌ, **μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄μ—μ„λ„ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ²°ν•λ” μ—­ν• μ„ λ³„λ„λ΅ κµ¬μ„±ν•΄μ•Ό ν•©λ‹λ‹¤.** `AppConfig`λ¥Ό ν†µν•΄ `OrderServiceImpl` κ°μ²΄μ μƒμ„±λΏλ§ μ•„λ‹λΌ, `FixDiscountPolicy` κ°μ²΄λ¥Ό μμ΅΄ κ΄€κ³„λ΅ μ£Όμ…ν•λ” μΌμ„ λ§΅κΈ°λ” κ²ƒμ…λ‹λ‹¤.


`AppConfig`λ¥Ό μ΄μ©ν•΄ μ•„λμ™€ κ°™μ΄ μ„¤κ³„λ¥Ό λ³€κ²½ν•΄ λ³΄κ² μµλ‹λ‹¤. μ΄μ  `AppConfig` κ°μ²΄λ¥Ό μ΄μ©ν•΄ `orderService()`λ¥Ό νΈμ¶ν•λ©΄ `MemoryMemberRepository`μ™€ `FixDiscountPoliocy`λ¥Ό μμ΅΄κ΄€κ³„λ΅ μ£Όμ…ν•κ³  μλ” `OrderServiceImpl` κµ¬ν„μ²΄λ¥Ό μƒμ„±ν•©λ‹λ‹¤. `AppConfig`λ” λ©”μ„λ“μ μ΄λ¦„κ³Ό λ¦¬ν„΄ νƒ€μ…λ§μΌλ΅λ„ μ „μ²΄ κµ¬μ„± μ •λ³΄(μ—­ν• κ³Ό κµ¬ν„)λ¥Ό μ ν‘ν„ν•©λ‹λ‹¤.

<br>

```java
public class AppConfig {

    public MemberService memberService() {
        return new MemberServiceImpl(memberRepository());
    }

    private MemoryMemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }

    public OrderService orderService() {
        return new OrderServiceImpl(memberRepository(), discountPolicy());
    }

    public DiscountPolicy discountPolicy() {
        return new FixDiscountPoliocy();
    }
}
```

<br>

`OrderServiceImpl` κµ¬ν„μ²΄λ” μ¤μ§ μ—­ν• μ— ν•΄λ‹Ήν•λ” μΈν„°νμ΄μ¤λ§ μ£Όμ…μ„ λ°›κ³ , κµ¬ν„μ²΄μ— λ€ν• κ΄€μ‹¬(μμ΅΄ κ΄€κ³„ μ£Όμ…)μ„ μ κ±°ν•©λ‹λ‹¤. κ·Έλ¬λ©΄ μ‹¤μ  `OrderServiceImpl`κ°€ μƒμ„±λ  λ•λ” μƒμ„±μλ¥Ό ν†µν•΄μ„ `AppConfig`κ°€ μ§€μ •ν• κµ¬ν„μ²΄λ¥Ό μμ΅΄ κ΄€κ³„λ΅ μ£Όμ…λ°›κ² λ©λ‹λ‹¤.<br>

μ΄μ  **`OrderServiceImpl`λ” μΈν„°νμ΄μ¤λ§ μμ΅΄ν•κ³  μμ§€λ§, `AppConfig`λ¥Ό ν†µν•΄ κµ¬ν„μ²΄λ¥Ό μμ΅΄ κ΄€κ³„λ΅ μ£Όμ…μ„ μ μκ² λμ—μµλ‹λ‹¤.**

<br>

```java
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    // μƒμ„±μλ¥Ό ν†µν•΄ μΈν„°νμ΄μ¤λ¥Ό μ£Όμ…λ°›λ”λ‹¤. κµ¬ν„μ²΄μ— μμ΅΄ν•μ§€ μ•λ”λ‹¤.     
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);

        int discountPrice = discountPolicy.discount(member, itemPrice);
        // μ„¤κ³„κ°€ μλ μ΄μ λ” discountPolisyκ°€ μ•μ•„μ„ ν•΄μ£ΌκΈ° λ•λ¬Έμ΄λ‹¤.
        // λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ μ§€ν‚¨ κ²½μ°λΌκ³  ν•  μ μλ‹¤.

        return new Order(memberId, itemName, itemPrice, discountPrice);


    }
}
```

<br>

AppConfigλ¥Ό ν†µν•΄ κµ¬μ΅°λ„κ°€ μ•„λμ™€ κ°™μ΄ λ³€κ²½λμ—μµλ‹λ‹¤.

<br>

![](https://images.velog.io/images/woply/post/48a72ffa-fc17-4ec2-95cd-39c250917cda/image.png)
> μ΄λ―Έμ§€ μ¶μ²: κΉ€μν•λ‹ 'μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ - κΈ°λ³Έ νΈ' κ°•μ μλ£

<br>

**κ°μ²΄μ `μƒμ„±`κ³Ό `κµ¬μ„±`μ„ λ‹΄λ‹Ήν•λ” μμ—­μΈ `AppConfig`μ™€ κ°μ²΄μ `μ‹¤ν–‰`κ³Ό `μ‚¬μ©`μ„ λ‹΄λ‹Ήν•λ” μμ—­μΈ `OrderServiceImpl`λ΅ λ¶„λ¦¬**λμ—μµλ‹λ‹¤. μ΄λ΅ μΈν•΄ **κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ μ›μΉ™μ„ λ¨λ‘ μ¶©μ΅±**ν•  μ μκ² λ©λ‹λ‹¤.

<br>

---

<br>

## 4. κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™μ„ μ¶©μ΅±ν•λ” κµ¬μ΅°

<br>

1λ²(λ‹¤ν•μ„±κ³Ό μΈν„°νμ΄μ¤ λ¶„λ¦¬μ ν•κ³„)μ—μ„ ν• μΈ μ •μ±…μ΄ λ³€κ²½λλ” μƒν™©μ„ κ°€μ •ν•μ€μµλ‹λ‹¤. μ΄μ  `κ³ μ • ν• μΈ μ •μ±…(FixDiscountPolicy)`μ΄ μ•„λ‹ `μ •λ¥  ν• μΈ μ •μ±…(RateDiscountPolicy)`μΌλ΅ λ³€κ²½ν•΄μ•Ό ν•  κ²½μ°, μ•„λμ™€ κ°™μ΄ `AppConfig`μ `DiscountPolicy` λ©”μ„λ“ λ°ν™ λ‚΄μ©λ§ λ³€κ²½ν•΄ μ£Όλ©΄ λ©λ‹λ‹¤.

<br>

```java
public DiscountPolicy discountPolicy() {
    // return new FixDiscountPolicy();  // κΈ°μ΅΄ ν• μΈ μ •μ±…
    return new RateDiscountPolicy(); // λ³€κ²½λ ν• μΈ μ •μ±…
}
```

<br>

κ³µμ—° κΈ°νμμ™€ κ°™μ΄ μ• ν”λ¦¬μΌ€μ΄μ…μ κµ¬μ„±κ³Ό μƒμ„±μ„ λ‹΄λ‹Ήν•λ” **`AppConfig`μ λ“±μ¥μΌλ΅, κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ μ›μΉ™μΈ DIP, OCP, SRPλ¥Ό μ¶©μ΅±**ν•  μ μκ² λμ—μµλ‹λ‹¤. μ΄λ΅ μΈν•΄ λ‹¤ν•μ„±κ³Ό μΈν„°νμ΄μ¤ λ¶„λ¦¬λ¥Ό μ΄μ©ν•΄ μ¨μ „ν• κ°μ²΄ μ§€ν–¥ μ„¤κ³„κ°€ κ°€λ¥ν•κ² λ©λ‹λ‹¤.

<br>

### 4-1. DIP,OCP,SRPλ¥Ό μ¶©μ΅±ν•λ” κµ¬μ΅°

<br>

`AppConfig`κ°€ μ• ν”λ¦¬μΌ€μ΄μ…μ— ν•„μ”ν• κµ¬ν„μ²΄λ¥Ό μ„ νƒν•κ³  μƒμ„±ν•΄μ£Όλ©΄μ„, ν΄λΌμ΄μ–ΈνΈμ— ν•΄λ‹Ήν•λ” **`OrderServiceImpl`μ€ μ¤μ§ `DiscountPolicy` μΈν„°νμ΄μ¤λ§μ„ μμ΅΄ κ΄€κ³„λ΅ κ°–κ² λ©λ‹λ‹¤.** λ”°λΌμ„, **μΈν„°νμ΄μ¤λ§μ„ μμ΅΄ν•΄μ•Ό ν•λ” DIPλ¥Ό μ¶©μ΅±**ν•©λ‹λ‹¤. 

λν•, **`OrderServiceImpl`λ” μ‚¬μ©μ— ν•„μ”ν• μ–΄λ–¤ μ½”λ“λ„ λ³€κ²½μ΄ ν•„μ”ν•μ§€ μ•μµλ‹λ‹¤.** ν™•μ¥μ— κ°λ°©λμ–΄ μμΌλ©΄μ„λ„, λ³€κ²½μ— λ‹«ν€μμ–΄μ•Ό ν•λ” **`OCP`λ¥Ό μ¶©μ΅±**ν•©λ‹λ‹¤. 

λ§μ§€λ§‰μΌλ΅, **`OrderServiceImpl`κ°€ μ¤μ§ μ‹¤ν–‰μ—λ§ μ§‘μ¤‘ν•  μ μκ² λ©λ‹λ‹¤.** κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬ν•μ—¬ μ‹¤ν–‰μ„ λ‹΄λ‹Ήν•λ” ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ¤μ§ μ‹¤ν–‰μ μ±…μ„λ§μ„ κ°–μµλ‹λ‹¤. ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°–λ” **`SRP`λ¥Ό μ¶©μ΅±**ν•©λ‹λ‹¤. 

<br>

---

<br>

## 5. λ‹¤ν•μ„±, μΈν„°νμ΄μ¤ λ¶„λ¦¬, κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬λ΅ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ κ°€λ¥

<br>

μ• ν”λ¦¬μΌ€μ΄μ…μ„ ν•λ‚μ κ³µμ—°μ΄λΌκ³  μƒκ°ν•λ©΄, **`κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬`λ” κΈ°νμμ™€ μ‹¤μ  κ³µμ—°μ— μ°Έμ—¬ν•λ” λ°°μ°μ μ—­ν• μ„ λ‚λ κ²ƒκ³Ό κ°™μµλ‹λ‹¤.** κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬λ¥Ό ν†µν•΄ λ°°μ°κ°€ λ‹¤λ¥Έ λ°°μ°μ μ„­μ™ΈκΉμ§€ μ±…μ„μ Έμ•Ό ν•λ” κµ¬μ΅°μ—μ„ **μ¤μ§ λ°°μ—­μ—λ§ μ§‘μ¤‘ν•  μ μλ” κµ¬μ΅°λ΅ λ³€κ²½**λμ—μµλ‹λ‹¤. **κ³µμ—° κΈ°νμμ μ—­ν• μ€ `AppConfig`κ°€ λ‹΄λ‹Ή**ν•©λ‹λ‹¤.<br>

`AppConfig`λ” μ• ν”λ¦¬μΌ€μ΄μ…μ **μ „μ²΄ λ™μ‘ λ°©μ‹μ„ κµ¬μ„±(config)ν•κΈ° μ„ν•΄, κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ²°ν•λ” μ±…μ„**μ„ κ°–μµλ‹λ‹¤. λ°°μ°μ— ν•΄λ‹Ήν•λ” `ν΄λΌμ΄μ–ΈνΈ κ°μ²΄`λ” **μ‹¤ν–‰(λ°°μ—­μ„ μ—°κΈ°)μ μ±…μ„**μ„ κ°–μµλ‹λ‹¤. κ΄€μ‹¬μ‚¬κ°€ λ¶„λ¦¬λ κ²ƒμ…λ‹λ‹¤.

<br>

> μ •λ¦¬ν•΄λ³΄λ©΄, κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό ν•λ‚μ κ³µμ—°μΌλ΅ λΉ„μ ν•μ€μµλ‹λ‹¤. λ‹¤ν•μ„±μ„ ν•λ‚μ λ°°μ—­μ— μ—¬λ¬ λ…μ λ°°μ°κ°€ μ—°κΈ°ν•λ” κ²ƒμΌλ΅ λΉ„μ ν•μ€κ³ , μΈν„°νμ΄μ¤μ λ¶„λ¦¬λ” λ°°μ—­λ§λ‹¤ μ„λ΅ λ‹¤λ¥Έ λ€λ³Έκ³Ό μ‹λ‚λ¦¬μ¤κ°€ λ¶€μ—¬λλ” κ²ƒμΌλ΅ λΉ„μ ν•μ€μµλ‹λ‹¤. μ—¬κΈ°μ— κΈ°νμμ™€ λ°°μ°μ μ—­ν•  κµ¬λ¶„μ„ ν†µν•΄ κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬λ¥Ό λΉ„μ ν•μ€μµλ‹λ‹¤. μ΄λ΅μ¨ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™μ„ μ¶©μ΅±ν•λ” μ• ν”λ¦¬μΌ€μ΄μ…(κ³µμ—°) κµ¬μ΅°λ¥Ό μ„¤κ³„ν•  μ μκ² λμ—μµλ‹λ‹¤. 

<br>

`AppConfig`μ™€ κ°™μ€ κ°μ²΄μ λ“±μ¥μ€ **λ‹¤ν•μ„±λ§μΌλ΅λ” ν•κ³„κ°€ μμ—λ κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό κµ¬μ΅°μ μΌλ΅ κ°μ„ ν•λ” ν•΄κ²°μ±…**μ…λ‹λ‹¤. κ·Έλ¦¬κ³  `AppConfig`μ™€ κ°™μ€ ν•΄κ²°μ±…μ΄ λ°”λ΅ **μ¤ν”„λ§μ νƒ„μƒ**μ„ μ΄λμ—μµλ‹λ‹¤. <br>

**μ¤ν”„λ§μ€ λ‹¤ν•μ„±μ ν•κ³„λ¥Ό κ³ λ―Όν•λ©° λ” μ‰½κ² μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό λ”°λ¥Ό μ μλ„λ΅ κ³ μ•λ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ ν”„λ μ„μ›ν¬**μ…λ‹λ‹¤. μ¤ν”„λ§μ€ `μ μ–΄μ μ—­μ „(IoC)`κ³Ό `μμ΅΄ κ΄€κ³„ μ£Όμ…(DI)`μ„ ν†µν•΄ **λ‹¤ν•μ„±μ ν•κ³„λ¥Ό ν•΄κ²°**ν•©λ‹λ‹¤.

---

<br>

μ—¬κΈ°κΉμ§€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™μ„ κΈ°μ¤€μΌλ΅, **λ‹¤ν•μ„±μ΄ κ°–λ” ν•κ³„**λ¥Ό μ•μ•„λ³΄μ•μµλ‹λ‹¤. **λ‹¤ν•μ„±μ ν•κ³„λ” λ™μ‹μ— κ°μ²΄ μ§€ν–¥ ν”„λ μ„μ›ν¬μΈ μ¤ν”„λ§μ νƒ„μƒμ„ μ΄λ μ•„μ΄λ””μ–΄**μ…λ‹λ‹¤. μ¤ν”„λ§μ μ•„μ΄λ””μ–΄κ°€ μ–΄λ””μ—μ„ μ¶λ°ν–λ”μ§€ μ΄ν•΄ν•κ³ , μ½”λ“λ¥Ό ν†µν•΄ μ§μ ‘ λκ»΄λ³΄λ©΄μ„ μ¤ν”„λ§μ΄λΌλ” ν”„λ μ„μ›ν¬κ°€ κ°–κ³  μλ” μ² ν•™μ„ μ΄ν•΄ν•λ” λ° λ§μ€ λ„μ›€μ΄ λμ—μµλ‹λ‹¤.